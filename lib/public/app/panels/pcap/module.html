<div ng-controller='pcap' ng-init="init()">

  <style>
    .table-doc-table {
      margin-left: 0px !important;
      overflow-y: auto;
    }
    .table-sidebar {
      width: 200px;
      display: table-cell;
      padding-right: 10px;
    }
    .table-main {
      width: 100%;
      display: table-cell;
    }
    .table-container {
      display: table;
      height: 100px;
      width: 100%;
      table-layout: fixed;
    }
    .table-fieldname {
      white-space: nowrap;
    }

    .table-fieldname a {
      word-wrap:break-word;
      white-space: normal;
    }

    .table-details {
      table-layout: fixed;
    }

    .table-details-field {
      width: 200px;
    }

    .table-details-action {
      width: 60px;
      text-align: center;
    }

    .table-details-value {
    }

    .table-field-value {
      white-space: pre-wrap;
    }

    span.hilite {
        background: yellow;
    }

    .pcap-raw {
        background: #FCFCFC;
        color: #5F5F5F;
    }
  </style>

<!-- PCAP Table -->
<div class="table-container">
  <table class="table table-bordered table-condensed table-details table-striped" ng-style="panel.style">
    <!-- <thead ng-show="panel.header"> -->
    <thead>
      <tr>
        <th>Name</th>
        <th>Info</th>
        <th>Size</th>
        <th>Position</th>
      </tr>
    </thead>
      <tbody bindonce ng-repeat="event in data| slice:panel.offset:panel.offset+panel.size" ng-class-odd="'odd'">
          <tr ng-click="toggle_details(event)" class="pointer">
            <td bo-text="event.$.name"></td>
            <td bo-text="event.$.showname"></td>
            <td bo-text="event.$.size"></td>
            <td bo-text="event.$.pos"></td>
          </tr>
          <tr ng-if="event.details">
            <td colspan="4"><!-- Change to colspan of panel.fields.length -->
                <span>Packet Details</span>
                <table>
                    <thead>
                        <th>acronym</th>
                        <th>name</th>
                        <th>size</th>
                        <th>position</th>
                    </thead>
                    <tr ng-repeat="val in event.field">
                        <td ng-click="highlight_text()">{{val.$.name}}</td>
                        <td>{{val.$.showname}}</td>
                        <td>{{val.$.size}}</td>
                        <td>{{val.$.pos}}</td>
                    </tr>
                </table>
            </td>
          </tr>
      </tbody>
  </table>

    <p class="pcap-raw">
        {{ hexData }}
        d4c3 b2a1 0200 0400 0000 0000 0000 0000
        0000 0100 0100 0000 af21 0f51 4fff 0700
        3600 0000 3600 0000 0100 5e00 0016 000c
        29af 9cdc 0800 4600 0028 002b 0000 0102
        9afb ac10 fd82 e000 0016 9404 0000 2200
        eb03 0000 0001 0300 0000 efff fffa af21
        0f51 a411 0800 3600 0000 3600 0000 0100
        5e00 0016 000c 29af 9cdc 0800 4600 0028
        002c 0000 0102 9afa ac10 fd82 e000 0016
        9404 0000 2200 ea03 0000 0001 0400 0000
        efff fffa af21 0f51 ce27 0c00 3600 0000
        3600 0000 0100 5e00 0016 000c 29af 9cdc
        0800 4600 0028 002d 0000 0102 9af9 ac10
        fd82 e000 0016 9404 0000 2200 eb03 0000
    </p>

</div>

  <!--<p ng-style="panel.style" ng-bind-html-unsafe="panel.content | striphtml | newlines"></p>-->
  <markdown ng-show="ready && panel.mode == 'markdown'">
    {{panel.content}}
  </markdown>
  <p ng-show="panel.mode == 'pcap'" ng-style='panel.style' ng-bind-html="panel.content | striphtml | newlines">
  </p>
  <p ng-show="panel.mode == 'html'" ng-bind-html="panel.content">
  </p>
</div>
